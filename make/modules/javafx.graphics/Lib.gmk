include CopyFiles.gmk
include LibCommon.gmk

# Hook to include the corresponding custom file, if present.
$(eval $(call IncludeCustomExtension, modules/javafx.graphics/Lib.gmk))

# Prepare the find cache.
$(call FillFindCache, $(wildcard $(TOPDIR)/src/javafx.graphics/*/native))

################################################################################
## Build libprism
################################################################################

$(eval $(call SetupJdkLibrary, BUILD_LIBPRISM_ES2, \
    NAME := prism_es2, \
    OPTIMIZATION := HIGH, \
    LIBS_linux := -lX11 -lXxf86vm -lGL, \
))

TARGETS += $(BUILD_LIBPRISM_ES2)

################################################################################
## Build libprism_sw
################################################################################

$(eval $(call SetupJdkLibrary, BUILD_LIBPRISM_SW, \
    NAME := prism_sw, \
    OPTIMIZATION := HIGH, \
    LIBS_linux := -lX11 -lXxf86vm -lGL -lm, \
))

TARGETS += $(BUILD_LIBPRISM_SW)

################################################################################
## Build libglass
################################################################################

$(eval $(call SetupJdkLibrary, BUILD_LIBGLASS, \
    NAME := glass, \
    OPTIMIZATION := HIGH, \
    LIBS_linux := -lX11, \
))

TARGETS += $(BUILD_LIBGLASS)

################################################################################
## Build libglassgtk3
################################################################################

$(eval $(call SetupJdkLibrary, BUILD_LIBGLASSGTK3, \
    NAME := glassgtk3, \
    LINK_TYPE := C++, \
    OPTIMIZATION := HIGH, \
    CFLAGS := $(GTK_CFLAGS), \
    CXXFLAGS := $(GTK_CFLAGS), \
    LIBS_linux := $(GTK_LIBS) -lX11 -ldl, \
))

TARGETS += $(BUILD_LIBGLASSGTK3)

################################################################################
## Build libjavafx_font
################################################################################

$(eval $(call SetupJdkLibrary, BUILD_LIBJAVAFXFONT, \
    NAME := javafx_font, \
    LINK_TYPE := C++, \
    OPTIMIZATION := HIGH, \
))

TARGETS += $(BUILD_LIBJAVAFXFONT)

################################################################################
## Build libjavafx_font_freetype
################################################################################

$(eval $(call SetupJdkLibrary, BUILD_LIBJAVAFXFONTFREETYPE, \
    NAME := javafx_font_freetype, \
    LINK_TYPE := C++, \
    CFLAGS := $(FREETYPE_CFLAGS) -D_ENABLE_PANGO, \
    OPTIMIZATION := HIGH, \
    LIBS_linux := -lfreetype, \
))

TARGETS += $(BUILD_LIBJAVAFXFONTFREETYPE)

################################################################################
## Build libjavafx_font_pango
################################################################################

$(eval $(call SetupJdkLibrary, BUILD_LIBJAVAFXFONTPANGO, \
    NAME := javafx_font_pango, \
    LINK_TYPE := C++, \
    CFLAGS := $(PANGO_CFLAGS) -D_ENABLE_PANGO, \
    OPTIMIZATION := HIGH, \
    LIBS_linux := $(PANGO_LIBS), \
))

TARGETS += $(BUILD_LIBJAVAFXFONTPANGO)
